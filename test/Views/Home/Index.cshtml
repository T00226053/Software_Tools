@model List<CreateOrder>

@{
    ViewData["Title"] = "Home Page";
}
<link rel="stylesheet" type="text/css" href="css/site.css">

<div class="sellables-container">
    <div class="sellables">
        <div class="categories">
            <a class="category active" href="#">Beverages</a>
            <a class="category" href="#">Non-Alcoholic</a>
            <a class="category" href="#">Lunch Menu</a>
            <a class="category" href="#">Dinner Menu</a>
            <a class="category" href="#">Bar Snacks</a>
            <a class="category" href="#">Deals</a>
            <!-- Other categories -->
        </div>
        <div class="item-group-wrapper">
            <div class="item">
                @if (Model != null)
                {
                    @foreach (var orderDetails in Model)
                    {
                        <a href="#" class="item" data-item="@orderDetails.itemName" data-price="@orderDetails.itemPrice">@orderDetails.itemName</a>
                    }
                }
            </div>
        </div>
    </div>
</div>
<div class="register-wrapper">
    <div class="customer">
        <input type="text" placeholder="Customer" />
    </div>
    <div class="register">
        <div class="products">
            <!-- Added items are here-->
        </div>


        <div class="pay-button">
            <a href="#">Create Order</a>
        </div>
        <div id="total-price">Total: €0.00</div>
    </div>
</div>

<!-- Rest of your HTML -->

<script>
    // Code
    const productsDiv = document.querySelector(".products");

    // Initializing the total price
    let totalPrice = 0;

    const itemButtons = document.querySelectorAll(".item");
    itemButtons.forEach((button) => {
        button.addEventListener("click", (event) => {
            event.preventDefault();

            const itemName = button.getAttribute("data-item");
            const itemPrice = parseFloat(button.getAttribute("data-price")); // Get the price as a floating-point number

            const selectedProduct = document.createElement("div");
            selectedProduct.className = "product-bar selected";
            selectedProduct.innerHTML = `
                    <span>${itemName}</span>
                    <span>€${itemPrice.toFixed(2)}</span>
                `;

            productsDiv.appendChild(selectedProduct);

            // Updating the total price
            totalPrice += itemPrice;
            updateTotalPrice();
        });
    });

    // Function to update the total price
    function updateTotalPrice() {
        const totalElement = document.querySelector("#total-price");
        totalElement.textContent = `Total: €${totalPrice.toFixed(2)}`;
    }

</script>
